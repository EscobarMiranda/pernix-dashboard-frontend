!function(){"use strict";angular.module("app",["app.admin","app.core","app.dashboard","app.form","app.home","app.layout","app.login","app.resource","app.service"])}(),function(){"use strict";angular.module("app.admin",["app.core","ui.bootstrap"])}(),function(){"use strict";angular.module("app.core",["ui.router","ngMessages","base64","gridshore.c3js.chart","ngNotify","ngLodash","google-signin","ui.mask"])}(),function(){"use strict";angular.module("app.dashboard",["app.core","ui.bootstrap"])}(),function(){"use strict";angular.module("app.form",["app.core"])}(),function(){"use strict";angular.module("app.home",["app.core","app.layout"])}(),function(){"use strict";angular.module("app.layout",[])}(),function(){"use strict";angular.module("app.login",["app.core"])}(),function(){"use strict";angular.module("app.resource",["app.core"])}(),function(){"use strict";angular.module("app.service",["app.core"])}(),function(){"use strict";angular.module("app.layout").component("adminMenu",{templateUrl:"app/components/layout/admin-menu/admin-menu-tpl.html",controller:"AdminMenuController as vm"})}(),function(){"use strict";angular.module("app.layout").component("answer",{templateUrl:"app/components/layout/answer/answer-tpl.html",controller:"AnswerController as vm"})}(),function(){"use strict";angular.module("app.layout").component("navBar",{templateUrl:"app/components/layout/nav/nav-tpl.html",controller:"NavController as vm"})}(),function(){"use strict";angular.module("app.layout").component("project",{templateUrl:"app/components/layout/project/project-tpl.html",controller:"ProjectController as vm"})}(),function(){"use strict";function e(e,t){t.init({client_id:e.GOOGLE_CLIENT_ID})}angular.module("app").config(e)}(),function(){"use strict";function e(e){e.otherwise("/login")}angular.module("app").config(e)}(),function(){"use strict";function e(){}angular.module("app").run(e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){t.verifyCredentials()}function c(e,t){l.object=t,n.$broadcast("getMetric",e+t.id)}function s(){e.getCompanies().then(function(e){l.companies=e.data})["catch"](function(e){r.set("Error loading companies","error")})}function i(){t.getUsers().then(function(e){l.users=e.data})["catch"](function(e){r.set("Error loading users","error")})}function u(){o.reload()}var l=this;l.visible=t.getPermissions(),l.user=t.getCurrentUser(),l.object={},l.object.name="General",l.companies=[],l.users=[],l.getMetric=c,l.reload=u,a(),s(),i()}angular.module("app.dashboard").controller("DashboardController",e)}(),function(){"use strict";function e(e){e.state("home.dashboard",{url:"/dashboard",templateUrl:"app/components/dashboard/dashboard.html",controller:"DashboardController as vm"})}angular.module("app.dashboard").config(e)}(),function(){"use strict";function e(e,t,n,r,o,a,c,s){function i(){e.getSurvey(m.survey).then(function(e){m.survey=e.data})["catch"](function(e){o.set("Error loading survey","error")})}function u(){t.getUser(m.user).then(function(e){m.user=e.data})["catch"](function(e){o.set("Error loading user","error")})}function l(){r.getMetricsBySurvey(m.survey).then(function(e){m.metrics=e.data})["catch"](function(e){o.set("Error loading metrics","error")})}function p(){n.createAnswerList(n.buildAnswers(m.user.id,m.answers)),s.go("thanks")}var m=this;m.metrics=[],m.answers={},m.user={},m.survey={},m.survey.id=c.surveyId,m.user.id=c.userId,m.sendAnswers=p,m.scale=a.SCALE,u(),l(),i()}angular.module("app.login").controller("FormController",e)}(),function(){"use strict";function e(e){e.state("form",{url:"/form/:surveyId/:userId",templateUrl:"app/components/form/form.html",controller:"FormController as vm"}).state("thanks",{url:"/thanks",templateUrl:"app/components/form/thanks.html"})}angular.module("app.login").config(e)}(),function(){"use strict";function e(e){e.state("home",{templateUrl:"app/components/home/home.html"})}angular.module("app.home").config(e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){t.signIn().then(function(t){c.user=t.w3,c.user.U3.includes("@pernix-solutions")?(c.loginObject.name=c.user.ofa,c.loginObject.lastname=c.user.wea,c.loginObject.email=c.user.U3,c.loginObject.password=c.user.Eea,n.getUser(c.loginObject).then(function(t){c.user=t.data,o.setCurrentUser(c.user),e.go("home.dashboard")})["catch"](function(e){r.set("Error loading users","error")})):r.set("Your profile does not belong to any domain of Pernix","error")}),function(e){r.set("Error loading users","error")}}var c=this;c.user={},c.loginObject={},c.authenticateUser=a}angular.module("app.login").controller("LoginController",e)}(),function(){"use strict";function e(e){e.state("login",{url:"/login",templateUrl:"app/components/login/login.html",controller:"LoginController as vm"})}angular.module("app.login").config(e)}(),function(){"use strict";angular.module("app.resource").constant("RESOURCE",{API_URL:"http://pernix-dashboard-backend.herokuapp.com/rest/",SCALE:[1,2,3,4,5],PALETTE:["RED","RED","RED","RED","RED","RED","YELLOW","YELLOW","GREEN","GREEN","GREEN"],GOOGLE_CLIENT_ID:"677278398565-ldsfl0j55hl0aihs280hitt2qtrvd6an.apps.googleusercontent.com",filterName:"date",formatDate:"yyyy/MM/dd"})}(),function(){"use strict";function e(e,t,n,r,o){function a(){t.verifyCredentials(),t.getPermissions()||(e.go("home.dashboard"),o.set("Insufficient permissions","error"))}function c(){n.getCompanies().then(function(e){l.companies=e.data})["catch"](function(e){o.set("Error loading companies","error")})}function s(){r.open({templateUrl:"app/components/admin/company/create/create.html",controller:"CreateCompanyController as vm",resolve:{companies:function(){return l.companies}}})}function i(e){r.open({templateUrl:"app/components/admin/company/update/update.html",controller:"UpdateCompanyController as vm",resolve:{company:function(){return e}}})}function u(e){r.open({templateUrl:"app/components/admin/company/delete/delete.html",controller:"DeleteCompanyController as vm",resolve:{company:function(){return e}}})}var l=this;l.companies=[],l.createCompany=s,l.updateCompany=i,l.deleteCompany=u,a(),c()}angular.module("app.admin").controller("AdminCompanyController",e)}(),function(){"use strict";function e(e){e.state("home.company",{url:"/admin/company",templateUrl:"app/components/admin/company/admin-company.html",controller:"AdminCompanyController as vm"})}angular.module("app.admin").config(e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){t.verifyCredentials(),t.getPermissions()||(e.go("home.dashboard"),o.set("Insufficient permissions","error"))}function c(){n.getManagers().then(function(e){l.managers=e.data})["catch"](function(e){o.set("Error loading managers","error")})}function s(){r.open({templateUrl:"app/components/admin/manager/create/create.html",controller:"CreateManagerController as vm",resolve:{managers:function(){return l.managers}}})}function i(e){r.open({templateUrl:"app/components/admin/manager/update/update.html",controller:"UpdateManagerController as vm",resolve:{manager:function(){return e}}})}function u(e){r.open({templateUrl:"app/components/admin/manager/delete/delete.html",controller:"DeleteManagerController as vm",resolve:{manager:function(){return e}}})}var l=this;l.managers=[],l.createManager=s,l.updateManager=i,l.deleteManager=u,a(),c()}angular.module("app.admin").controller("AdminManagerController",e)}(),function(){"use strict";function e(e){e.state("home.manager",{url:"/admin/manager",templateUrl:"app/components/admin/manager/admin-manager.html",controller:"AdminManagerController as vm"})}angular.module("app.admin").config(e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){t.verifyCredentials(),p.isAdmin&&c(),s()}function c(){n.getProjects().then(function(e){p.projects=e.data})["catch"](function(e){o.set("Error loading project","error")})}function s(e){n.getProjectsByUser(p.user).then(function(e){p.projects=e.data})["catch"](function(e){o.set("Error loading project","error")})}function i(){r.open({templateUrl:"app/components/admin/project/create/create.html",controller:"CreateProjectController as vm",resolve:{projects:function(){return p.projects}}})}function u(e){r.open({templateUrl:"app/components/admin/project/update/update.html",controller:"UpdateProjectController as vm",resolve:{project:function(){return e}}})}function l(e){r.open({templateUrl:"app/components/admin/project/delete/delete.html",controller:"DeleteProjectController as vm",resolve:{project:function(){return e}}})}var p=this;p.projects=[],p.createProject=i,p.updateProject=u,p.deleteProject=l,p.isAdmin=t.getPermissions(),p.user=t.getCurrentUser(),a()}angular.module("app.admin").controller("AdminProjectController",e)}(),function(){"use strict";function e(e){e.state("home.project",{url:"/admin/project",templateUrl:"app/components/admin/project/admin-project.html",controller:"AdminProjectController as vm"})}angular.module("app.admin").config(e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){t.verifyCredentials(),t.getPermissions()||(e.go("home.dashboard"),o.set("Insufficient permissions","error"))}function c(){n.getSurveys().then(function(e){p.surveys=e.data})["catch"](function(e){o.set("Error loading surveys","error")})}function s(){r.open({templateUrl:"app/components/admin/survey/create/create.html",controller:"CreateSurveyController as vm",resolve:{surveys:function(){return p.surveys}}})}function i(e){r.open({templateUrl:"app/components/admin/survey/update/update.html",controller:"UpdateSurveyController as vm",resolve:{survey:function(){return e}}})}function u(e){r.open({templateUrl:"app/components/admin/survey/delete/delete.html",controller:"DeleteSurveyController as vm",resolve:{survey:function(){return e}}})}function l(t){e.go("home.metric",{surveyId:t.id})}var p=this;p.surveys=[],p.createSurvey=s,p.updateSurvey=i,p.deleteSurvey=u,p.goToQuestions=l,a(),c()}angular.module("app.admin").controller("AdminSurveyController",e)}(),function(){"use strict";function e(e){e.state("home.survey",{url:"/admin/survey",templateUrl:"app/components/admin/survey/admin-survey.html",controller:"AdminSurveyController as vm"}).state("home.metric",{url:"/admin/survey/metric/:surveyId",templateUrl:"app/components/admin/survey/metric/admin-metric.html",controller:"AdminMetricController as vm"})}angular.module("app.admin").config(e)}(),function(){"use strict";function e(e,t,n,r){function o(){t.verifyCredentials(),t.getPermissions()||(e.go("home.dashboard"),r.set("Insufficient permissions","error"))}function a(){t.getUsers().then(function(e){u.users=e.data})["catch"](function(e){r.set("Error loading users","error")})}function c(){n.open({templateUrl:"app/components/admin/user/create/create.html",controller:"CreateUserController as vm",resolve:{users:function(){return u.users}}})}function s(e){n.open({templateUrl:"app/components/admin/user/update/update.html",controller:"UpdateUserController as vm",resolve:{user:function(){return e}}})}function i(e){n.open({templateUrl:"app/components/admin/user/delete/delete.html",controller:"DeleteUserController as vm",resolve:{user:function(){return e}}})}var u=this;u.users=[],u.createUser=c,u.updateUser=s,u.deleteUser=i,o(),a()}angular.module("app.admin").controller("AdminUserController",e)}(),function(){"use strict";function e(e){e.state("home.user",{url:"/admin/user",templateUrl:"app/components/admin/user/admin-user.html",controller:"AdminUserController as vm"})}angular.module("app.admin").config(e)}(),function(){"use strict";function e(e,t,n){function r(){e.verifyCredentials()}function o(e){return e===t.current.name}var a=this;a.visible=e.getPermissions(),a.isActive=o,r()}angular.module("app.layout").controller("AdminMenuController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){o.verifyCredentials()}function c(e){return n.PALETTE[Math.round(e/10)]}function s(n){i.answers=[],e.getMetric(n).then(function(e){_.forEach(e.data,function(e,t){var n={};n.id=e.id,n.name=e.name,n.value=100*e.value/5,n.color=c(n.value),i.answers.push(n)})})["catch"](function(e){t.set("Error loading indicators","error")})}var i=this;i.answers=[],i.getMetric=s,a(),s("general"),r.$on("getMetric",function(e,t){s(t)})}angular.module("app.layout").controller("AnswerController",e)}(),function(){"use strict";function e(e,t,n){function r(){t.verifyCredentials()}function o(t){return t===e.current.name}function a(){i.user=t.getCurrentUser()}function c(){t.clearCurrentUser(),e.go("login")}function s(){t.getUserTypeByName("Administrator").then(function(e){i.userType=e.data,t.setCurrentAdminId(i.userType)})["catch"](function(e){n.set("Error loading permissions","error")})}var i=this;i.user={},i.userType={},i.getUser=a,i.isActive=o,i.logout=c,i.setAdminId=s,r(),a(),s()}angular.module("app.layout").controller("NavController",e)}(),function(){"use strict";function e(e,t){function n(){e.getProjects().then(function(e){r.projects=e.data,_.forEach(e.data,function(e,t){r.datapoints.push({x:e.name+" - "+e.onTrack.name,"top-1":e.percentage})})})["catch"](function(e){t.set("Error loading projects","error")})}var r=this;r.projects=[],r.datapoints=[],r.datacolumns=[{id:"top-1",type:"bar",name:"Projects"}],r.datax={id:"x"},n()}angular.module("app.layout").controller("ProjectController",e)}(),function(){"use strict";function e(e,t,n,r){function o(r){var o={method:"GET",url:n.API_URL+"answer/"+r,headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(o)}function a(e){var r={method:"POST",url:n.API_URL+"answer",headers:{"Content-Type":"application/json"},data:e};return t(r)}function c(e){_.forEach(e,function(e,t){a(e)})}function s(e,t){var n=[];return _.forEach(t,function(t,r){var o={};o.user={id:e},o.metric={id:r},o.value=t,n.push(o)}),n}this.getMetric=o,this.createAnswerList=c,this.buildAnswers=s}angular.module("app.service").service("AnswerService",e)}(),function(){"use strict";function e(e,t,n,r){function o(){var r={method:"GET",url:n.API_URL+"company",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(r)}function a(r){var o={method:"GET",url:n.API_URL+"company/"+r.id,headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(o)}function c(r){var o={method:"POST",url:n.API_URL+"company",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function s(r){var o={method:"PUT",url:n.API_URL+"company",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function i(r){var o={method:"PUT",url:n.API_URL+"company/changeState",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}this.getCompanies=o,this.getCompany=a,this.createCompany=c,this.updateCompany=s,this.changeStateCompany=i}angular.module("app.service").service("CompanyService",e)}(),function(){"use strict";function e(e,t){function n(n){var r={method:"POST",url:t.API_URL+"login",headers:{"Content-Type":"application/json"},data:n};return e(r)}this.getUser=n}angular.module("app.service").service("LoginService",e)}(),function(){"use strict";function e(e,t,n,r){function o(){var r={method:"GET",url:n.API_URL+"manager",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(r)}function a(r){var o={method:"GET",url:n.API_URL+"manager/"+r.id,headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(o)}function c(r){var o={method:"POST",url:n.API_URL+"manager",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function s(r){var o={method:"PUT",url:n.API_URL+"manager",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function i(r){var o={method:"PUT",url:n.API_URL+"manager/changeState",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}this.getManagers=o,this.getManager=a,this.createManager=c,this.updateManager=s,this.changeStateManager=i}angular.module("app.service").service("ManagerService",e)}(),function(){"use strict";function e(e,t,n,r){function o(e){var r={method:"GET",url:n.API_URL+"metric/bySurvey/"+e.id,headers:{"Content-Type":"application/json"}};return t(r)}function a(r){var o={method:"GET",url:n.API_URL+"metric/"+r.id,headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(o)}function c(r){var o={method:"POST",url:n.API_URL+"metric",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function s(r){var o={method:"PUT",url:n.API_URL+"metric",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function i(r){var o={method:"PUT",url:n.API_URL+"metric/changeState",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}this.getMetricsBySurvey=o,this.getMetric=a,this.createMetric=c,this.updateMetric=s,this.changeStateMetric=i}angular.module("app.service").service("MetricService",e)}(),function(){"use strict";function e(){function e(e){return"string"==typeof e?JSON.parse(e):e}this.parseObject=e}angular.module("app.service").service("ObjectService",e)}(),function(){"use strict";function e(e,t,n,r){function o(){var r={method:"GET",url:n.API_URL+"onTrack",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(r)}this.getOnTrack=o}angular.module("app.service").service("OnTrackService",e)}(),function(){"use strict";function e(e,t,n,r){function o(){var r={method:"GET",url:n.API_URL+"project",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(r)}function a(r){var o={method:"GET",url:n.API_URL+"project/byUser/"+r.id,headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(o)}function c(r){var o={method:"GET",url:n.API_URL+"project/"+r.id,headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(o)}function s(r){var o={method:"POST",url:n.API_URL+"project",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function i(r){var o={method:"PUT",url:n.API_URL+"project",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function u(r){var o={method:"PUT",url:n.API_URL+"project/changeState",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}this.getProjects=o,this.getProjectsByUser=a,this.getProject=c,this.createProject=s,this.updateProject=i,this.changeStateProject=u}angular.module("app.service").service("ProjectService",e)}(),function(){"use strict";function e(e,t,n,r){function o(){var r={method:"GET",url:n.API_URL+"survey",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()}};return t(r)}function a(e){var r={method:"GET",url:n.API_URL+"survey/"+e.id,headers:{"Content-Type":"application/json"}};return t(r)}function c(r){var o={method:"POST",url:n.API_URL+"survey",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function s(r){var o={method:"PUT",url:n.API_URL+"survey",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}function i(r){var o={method:"PUT",url:n.API_URL+"survey/changeState",headers:{"Content-Type":"application/json",Authorization:e.getAuthorization()},data:r};return t(o)}this.getSurveys=o,this.getSurvey=a,this.createSurvey=c,this.updateSurvey=s,this.changeStateSurvey=i}angular.module("app.service").service("SurveyService",e)}(),function(){"use strict";function e(e,t,n,r,o,a){function c(){var n={method:"GET",url:t.API_URL+"userType",headers:{"Content-Type":"application/json",Authorization:U()}};return e(n)}function s(n){var r={method:"GET",url:t.API_URL+"userType/byName/"+n,headers:{"Content-Type":"application/json",Authorization:U()}};return e(r)}function i(){var n={method:"GET",url:t.API_URL+"user",headers:{"Content-Type":"application/json",Authorization:U()}};return e(n)}function u(n){var r={method:"GET",url:t.API_URL+"user/"+n.id,headers:{"Content-Type":"application/json"}};return e(r)}function l(n){var r={method:"POST",url:t.API_URL+"user",headers:{"Content-Type":"application/json",Authorization:U()},data:n};return e(r)}function p(n){var r={method:"PUT",url:t.API_URL+"user",headers:{"Content-Type":"application/json",Authorization:U()},data:n};return e(r)}function m(n){var r={method:"PUT",url:t.API_URL+"user/changeState",headers:{"Content-Type":"application/json",Authorization:U()},data:n};return e(r)}function d(e){sessionStorage.setItem("CurrentUser",JSON.stringify(e))}function f(){return JSON.parse(sessionStorage.getItem("CurrentUser"))}function h(){d(null)}function g(e){sessionStorage.setItem("CurrentAdminId",JSON.stringify(e))}function y(){return JSON.parse(sessionStorage.getItem("CurrentAdminId"))}function v(){return f().userType.id==y().id}function C(){null==f()&&(o.set("session required","error"),r.go("login"))}function U(){var e=f();return"Basic "+a.encode(e.email+":"+e.password)}this.getUserTypes=c,this.getUserTypeByName=s,this.getUsers=i,this.getUser=u,this.createUser=l,this.updateUser=p,this.setCurrentUser=d,this.getCurrentUser=f,this.clearCurrentUser=h,this.changeStateUser=m,this.setCurrentAdminId=g,this.getCurrentAdminId=y,this.getPermissions=v,this.verifyCredentials=C,this.getAuthorization=U}angular.module("app.service").service("UserService",e)}(),function(){"use strict";function e(e,t,n,r){function o(){t.dismiss("cancel")}function a(){c.company.active=!0,e.createCompany(c.company).then(function(e){c.companies.push(c.company),c.company={},n.set("Company has been created successfully","success")})["catch"](function(e){n.set("An error has been occurred, please try again","error")}),o()}var c=this;c.company={},c.companies=r,c.createCompany=a,c.close=o}angular.module("app.admin").controller("CreateCompanyController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){t.dismiss("cancel")}function a(){e.updateCompany(c.company).then(function(e){c.company={},r.set("Company has been updated successfully","success")})["catch"](function(e){r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.close=o,c.company=n,c.updateCompany=a}angular.module("app.admin").controller("UpdateCompanyController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){t.dismiss("cancel")}function a(){e.changeStateCompany(c.company).then(function(e){c.company.active=!c.company.active,r.set("Company has been updated successfully","success")})["catch"](function(e){r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.close=o,c.company=n,c.deleteCompany=a}angular.module("app.admin").controller("DeleteCompanyController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){r.dismiss("cancel")}function c(){t.getCompanies().then(function(e){i.companies=e.data})["catch"](function(e){i.companies=[],o.set("Error loading companies","error")})}function s(){i.manager.active=!0,i.manager.company=JSON.parse(i.company),e.createManager(i.manager).then(function(e){i.managers.push(i.manager),i.manager={},o.set("Manager has been created successfully","success")})["catch"](function(e){i.manager={},o.set("An error has been occurred, please try again","error")}),a()}var i=this;i.managers=n,i.company={},i.companies=[],i.close=a,i.createManager=s,c()}angular.module("app.admin").controller("CreateManagerController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){n.dismiss("cancel")}function a(){e.changeStateManager(c.manager).then(function(e){c.manager.active=!c.manager.active,r.set("Manager has been updated successfully","success")})["catch"](function(e){r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.manager=t,c.close=o,c.deleteManager=a}angular.module("app.admin").controller("DeleteManagerController",e)}(),function(){"use strict";function e(e,t,n,r,o,a){function c(){r.dismiss("cancel")}function s(){t.getCompanies().then(function(e){u.companies=e.data})["catch"](function(e){a.set("Error loading companies","error")})}function i(){u.manager.company=n.parseObject(u.manager.company),e.updateManager(u.manager).then(function(e){u.manager={},a.set("Manager has been updated successfully","success")})["catch"](function(e){u.manager={},a.set("An error has been occurred, please try again","error")}),c()}var u=this;u.manager=o,u.company=o.company,u.companies=[],u.close=c,u.updateManager=i,s()}angular.module("app.admin").controller("UpdateManagerController",e)}(),function(){"use strict";function e(e,t,n,r,o,a,c,s){function i(){o.dismiss("cancel")}function u(){t.getOnTrack().then(function(e){h.onTrackList=e.data})["catch"](function(e){s.set("Error loading data","error")})}function l(){h.project.startDate=new Date(a(c.filterName)(h.project.startDate,c.formatDate)),h.project.endDate=new Date(a(c.filterName)(h.project.endDate,c.formatDate)),h.project.lastDemo=new Date(a(c.filterName)(h.project.lastDemo,c.formatDate)),h.project.onTrack=JSON.parse(h.onTrack),h.project.user=h.user,h.project.active=!0}function p(){l(),n.createProject(h.project).then(function(e){h.projects.push(h.project),h.project={},s.set("Project has been created successfully","success")})["catch"](function(e){s.set("An error has been occurred, please try again","error")}),i()}function m(){return h.startDatePopup.opened=!0,h.startDatePopup.opened}function d(){return h.endDatePopup.opened=!0,h.endDatePopup.opened}function f(){return h.lastDemoPopup.opened=!0,h.lastDemoPopup.opened}var h=this;h.projects=r,h.onTrackList=[],h.project={},h.closeModal=i,h.onTrack={},h.user=e.getCurrentUser(),h.createProject=p,h.toggleStartDatePopup=m,h.toggleEndDatePopup=d,h.toggleLastDemoPopup=f,h.dateOptions={showWeeks:!1,datepickerMode:"year"},h.startDatePopup={opened:!1},h.endDatePopup={opened:!1},h.lastDemoPopup={opened:!1},u()}angular.module("app.admin").controller("CreateProjectController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){n.dismiss("cancel")}function a(){e.changeStateProject(c.project).then(function(e){c.project.active=!c.project.active,r.set("Project has been updated successfully","success")})["catch"](function(e){r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.project=t,c.closeModal=o,c.deleteProject=a}angular.module("app.admin").controller("DeleteProjectController",e)}(),function(){"use strict";function e(e,t,n,r,o,a,c,s,i){function u(){a.dismiss("cancel")}function l(){t.getOnTrack().then(function(e){y.onTrackList=e.data})["catch"](function(e){i.set("Error loading data","error")})}function p(){y.project.startDate=new Date(c(s.filterName)(y.project.startDate,s.formatDate)),y.project.endDate=new Date(c(s.filterName)(y.project.endDate,s.formatDate)),y.project.lastDemo=new Date(c(s.filterName)(y.project.lastDemo,s.formatDate)),y.project.onTrack=r.parseObject(y.project.onTrack),y.onTrack=y.project.onTrack,y.project.user=r.parseObject(y.project.user),y.assignedUser=y.project.user}function m(){p(),n.createProject(y.project).then(function(e){y.project={},i.set("Project has been updated successfully","success")})["catch"](function(e){i.set("An error has been occurred, please try again","error")}),u()}function d(){e.getUsers().then(function(e){y.users=e.data})["catch"](function(e){i.set("Error loading users","error")})}function f(){return y.startDatePopup.opened=!0,y.startDatePopup.opened}function h(){return y.endDatePopup.opened=!0,y.endDatePopup.opened}function g(){return y.lastDemoPopup.opened=!0,y.lastDemoPopup.opened}var y=this;y.onTrackList=[],y.project=o,y.closeModal=u,y.onTrack=y.project.onTrack,y.users=[],y.visible=e.getPermissions(),y.assignedUser=y.project.user,y.updateProject=m,y.toggleStartDatePopup=f,y.toggleEndDatePopup=h,y.toggleLastDemoPopup=g,y.dateOptions={showWeeks:!1,datepickerMode:"year"},y.startDatePopup={opened:!1},y.endDatePopup={opened:!1},y.lastDemoPopup={opened:!1},l(),d()}angular.module("app.admin").controller("UpdateProjectController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){n.dismiss("cancel")}function a(){c.survey.active=!0,e.createSurvey(c.survey).then(function(e){c.surveys.push(c.survey),r.set("Survey has been created successfully","success")})["catch"](function(e){r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.survey={},c.surveys=t,c.createSurvey=a,c.close=o}angular.module("app.admin").controller("CreateSurveyController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){n.dismiss("cancel")}function a(){e.changeStateSurvey(c.survey).then(function(e){c.survey.active=!c.survey.active,r.set("Survey has been updated successfully","success")})["catch"](function(e){r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.survey=t,c.close=o,c.changeStateSurvey=a}angular.module("app.admin").controller("DeleteSurveyController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){e.getSurvey(l.survey).then(function(e){l.survey=e.data})["catch"](function(e){r.set("Error loading survey information","error")})}function c(){t.getMetricsBySurvey(l.survey).then(function(e){l.metrics=e.data})["catch"](function(e){r.set("Error loading metrics","error")})}function s(){n.open({templateUrl:"app/components/admin/survey/metric/create/create.html",controller:"CreateMetricController as vm",resolve:{metrics:function(){return l.metrics},survey:function(){return l.survey}}})}function i(e){n.open({templateUrl:"app/components/admin/survey/metric/update/update.html",controller:"UpdateMetricController as vm",resolve:{metric:function(){return e},survey:function(){return l.survey}}})}function u(e){n.open({templateUrl:"app/components/admin/survey/metric/delete/delete.html",controller:"DeleteMetricController as vm",resolve:{metric:function(){return e},survey:function(){return l.survey}}})}var l=this;l.metrics=[],l.createMetric=s,l.updateMetric=i,l.deleteMetric=u,l.survey={},l.survey.id=o.surveyId,a(),c()}angular.module("app.admin").controller("AdminMetricController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){n.dismiss("cancel")}function a(){e.updateSurvey(c.survey).then(function(e){r.set("Survey has been updated successfully","success")})["catch"](function(e){c.survey={},r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.survey=t,c.close=o,c.updateSurvey=a}angular.module("app.admin").controller("UpdateSurveyController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){r.dismiss("cancel")}function c(){e.getManagers().then(function(e){u.managers=e.data})["catch"](function(e){o.set("Error loading user types","error")})}function s(){t.getUserTypes().then(function(e){u.userTypes=e.data})["catch"](function(e){o.set("Error loading user types","error")})}function i(){u.user.active=!0,u.user.manager=JSON.parse(u.manager),u.user.userType=JSON.parse(u.userType),t.createUser(u.user).then(function(e){u.users.push(u.user),u.user={},o.set("User has been created successfully","success")})["catch"](function(e){o.set("An error has been occurred, please try again","error")}),a()}var u=this;u.managers=[],u.manager={},u.userTypes=[],u.userType={},u.user={},u.users=n,u.createUser=i,u.close=a,c(),s()}angular.module("app.admin").controller("CreateUserController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){n.dismiss("cancel")}function a(){e.changeStateUser(c.user).then(function(e){c.user.active=!c.user.active,r.set("User has been updated successfully","success")})["catch"](function(e){r.set("An error has been occurred, please try again","error")}),o()}var c=this;c.close=o,c.user=t,c.deleteUser=a}angular.module("app.admin").controller("DeleteUserController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){r.dismiss("cancel")}function c(){e.getManagers().then(function(e){u.managers=e.data})["catch"](function(e){
o.set("Error loading user types","error")})}function s(){t.getUserTypes().then(function(e){u.userTypes=e.data})["catch"](function(e){o.set("Error loading user types","error")})}function i(){u.user.manager=JSON.parse(u.manager),u.user.userType=JSON.parse(u.userType),t.updateUser(u.user).then(function(e){u.user={},o.set("User has been updated successfully","success")})["catch"](function(e){u.user={},o.set("An error has been occurred, please try again","error")}),a()}var u=this;u.managers=[],u.manager={},u.userTypes=[],u.userType={},u.user=n,u.updateUser=i,u.close=a,c(),s()}angular.module("app.admin").controller("UpdateUserController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){r.dismiss("cancel")}function c(){s.metric.active=!0,s.metric.survey=s.survey,e.createMetric(s.metric).then(function(e){s.metrics.push(s.metric),o.set("Metric has been created successfully","success")})["catch"](function(e){s.metric={},o.set("An error has been occurred, please try again","error")}),a()}var s=this;s.metric={},s.survey=t,s.metrics=n,s.createMetric=c,s.close=a}angular.module("app.admin").controller("CreateMetricController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){r.dismiss("cancel")}function c(){s.metric.survey=s.survey,e.changeStateMetric(s.metric).then(function(e){s.metric.active=!s.metric.active,o.set("Metric has been updated successfully","success")})["catch"](function(e){o.set("An error has been occurred, please try again","error")}),a()}var s=this;s.metric=t,s.survey=n,s.close=a,s.deleteMetric=c}angular.module("app.admin").controller("DeleteMetricController",e)}(),function(){"use strict";function e(e,t,n,r,o){function a(){r.dismiss("cancel")}function c(){s.metric.survey=s.survey,e.updateMetric(s.metric).then(function(e){o.set("Metric has been updated successfully","success")})["catch"](function(e){s.metric={},o.set("An error has been occurred, please try again","error")}),a()}var s=this;s.metric=t,s.survey=n,s.close=a,s.updateMetric=c}angular.module("app.admin").controller("UpdateMetricController",e)}();